{"version":3,"sources":["../src/index.js"],"names":["PORT","app","server","createServer","use","exposedHeaders","json","limit","wss","baglan","then","db","console","log","catch","hata","models","routers","listen","process","env","address","port"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGA,IAAMA,OAAO,IAAb;AACA,IAAMC,MAAM,wBAAZ;AACAA,IAAIC,MAAJ,GAAa,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;;AAGA;;;AAGAA,IAAIG,GAAJ,CAAQ,oBAAK;AACTC,oBAAgB;AADP,CAAL,CAAR;;AAIAJ,IAAIG,GAAJ,CAAQ,qBAAWE,IAAX,CAAgB;AACpBC,WAAO;AADa,CAAhB,CAAR;;AAIAN,IAAIO,GAAJ,GAAU,gBAAW;;AAEjBN,YAAQD,IAAIC;;AAFK,CAAX,CAAV;;AAUA,yBAAeO,MAAf,GAAwBC,IAAxB,CAA6B,UAACC,EAAD,EAAQ;;AAEjCC,YAAQC,GAAR,CAAY,gCAAZ;;AAEAZ,QAAIU,EAAJ,GAASA,EAAT;AAEH,CAND,EAMGG,KANH,CAMS,UAACC,IAAD,EAAU;;AAEf,UAAMA,IAAN;AAEH,CAVD;;AAaAd,IAAIe,MAAJ,GAAa,qBAAUf,GAAV,CAAb;AACAA,IAAIgB,OAAJ,GAAc,wBAAchB,GAAd,CAAd;;AASAA,IAAIC,MAAJ,CAAWgB,MAAX,CAAkBC,QAAQC,GAAR,CAAYpB,IAAZ,IAAoBA,IAAtC,EAA4C,YAAM;AAC1CY,YAAQC,GAAR,gFAAmDZ,IAAIC,MAAJ,CAAWmB,OAAX,GAAqBC,IAAxE;AACP,CAFD;;kBAIerB,G","file":"index.js","sourcesContent":["import http from 'http';\nimport express from 'express';\nimport cors from 'cors';\nimport morgan from 'morgan';\nimport bodyParser from 'body-parser';\nimport WebSocketServer, {Server} from 'uws';\nimport AppRouter from \"./app-router\"\nimport Model from \"./models\"\nimport Database from \"./database\"\n\n\nconst PORT = 3001;\nconst app = express();\napp.server = http.createServer(app);\n\n\n//app.use(morgan('dev'));\n\n\napp.use(cors({\n    exposedHeaders: \"*\"\n}));\n\napp.use(bodyParser.json({\n    limit: '50mb'\n}));\n\napp.wss = new Server({\n\n    server: app.server\n\n});\n\n\n\n\n\nnew Database().baglan().then((db) => {\n\n    console.log(\"Database baglantisi basarili !\");\n\n    app.db = db;\n\n}).catch((hata) => {\n\n    throw(hata);\n\n});\n\n\napp.models = new Model(app);\napp.routers = new AppRouter(app);\n\n\n\n\n\n\n\n\napp.server.listen(process.env.PORT || PORT, () => {\n        console.log(`Uygulamanın çalıştığı port numarası ${app.server.address().port}`);\n});\n\nexport default app;"]}